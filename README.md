# λ„¤μ΄λ²„μ›μ¤ λ©”μ‹μ§€ μλ™ μ•λ¦Ό μ¤μΌ€μ¤„λ¬

λ„¤μ΄λ²„μ›μ¤λ¥Ό ν†µν• ν€μ› κ΄€λ¦¬, λ…ΈνΈλ¶ μ§€μ°Έ μ•λ¦Ό, μ½”λ“λ¦¬λ·° μ§κΏ λ°°μ • λ° μλ™ λ©”μ‹μ§€ λ°μ†΅μ„ μ„ν• μ›Ή κΈ°λ° μ¤μΌ€μ¤„λ¬μ…λ‹λ‹¤.

## π€ μ£Όμ” κΈ°λ¥

- **μ›Ή μΈν„°νμ΄μ¤**: λΈλΌμ°μ €μ—μ„ μ‰½κ² κ΄€λ¦¬
- **ν€μ› κ΄€λ¦¬**: ν€μ› μ¶”κ°€/νΈμ§‘/μ‚­μ , κ¶ν• μ„¤μ •
- **λ…ΈνΈλ¶ μ§€μ°Έ μ•λ¦Ό**: μ”μΌλ³„ μλ™ λ‹Ήλ² λ°°μ • λ° μ•λ¦Ό
- **μ½”λ“λ¦¬λ·° μ§κΏ**: μλ™ μ§κΏ λ°°μ • λ° μ•λ¦Ό
- **μΌλ° λ©”μ‹μ§€ μ•λ¦Ό**: μ»¤μ¤ν…€ λ©”μ‹μ§€ μ¤μΌ€μ¤„λ§
- **Cron μ¤μΌ€μ¤„λ§**: μ •ν™•ν• μ‹κ°„ κΈ°λ° μλ™ μ‹¤ν–‰

## π“‹ μ”κµ¬μ‚¬ν•­

- Node.js v16.20.2 μ΄μƒ
- λ„¤μ΄λ²„μ›μ¤ API μ ‘κ·Ό κ¶ν•

## π› οΈ μ„¤μΉ λ° μ‹¤ν–‰

### 1. μμ΅΄μ„± μ„¤μΉ
```bash
npm install
```

### 2. μ„λ²„ μ‹¤ν–‰
```bash
npm start
```

### 3. μ›Ή μΈν„°νμ΄μ¤ μ ‘μ†
λΈλΌμ°μ €μ—μ„ `http://localhost:3000` μ ‘μ†

## π“– μ‚¬μ© λ°©λ²•

### ν€μ› κ΄€λ¦¬
1. **ν€μ› μ¶”κ°€**: ID, μ΄λ¦„, κ¶ν• μ„¤μ •
2. **κ¶ν• μλ” ν€μ›**: λ…ΈνΈλ¶ μ§€μ°Έ μ•λ¦Όμ—μ„ ν•„μλ΅ ν¬ν•¨λλ” ν€μ›
3. **ν†µκ³„ ν™•μΈ**: λ…ΈνΈλ¶ μ§€μ°Έ νμ, μ½”λ“λ¦¬λ·° νμ μλ™ μ¶”μ 

### μ¤μΌ€μ¤„ μ„¤μ •
1. **μΌλ° λ©”μ‹μ§€**: μ›ν•λ” λ©”μ‹μ§€μ™€ μμ‹ μ μ§€μ •
2. **λ…ΈνΈλ¶ μ§€μ°Έ μ•λ¦Ό**: μλ™ λ‹Ήλ² λ°°μ • (κ¶ν•μ 1λ… + μΌλ° ν€μ› 1λ…)
3. **μ½”λ“λ¦¬λ·° μ§κΏ**: λλ¤ μ§κΏ λ°°μ •
4. **Cron μ¤μΌ€μ¤„**: `μ΄ λ¶„ μ‹ μΌ μ›” μ”μΌ` ν•μ‹

### λ…ΈνΈλ¶ μ§€μ°Έ μ•λ¦Ό λ΅μ§
- **κΈμ”μΌ**: μƒλ΅μ΄ λ‹Ήλ² λ°°μ • (μ£Όλ§κΉμ§€ μ μ§€)
- **ν† /μΌμ”μΌ**: κΈμ”μΌ λ‹Ήλ² μ μ§€
- **μ›”~λ©μ”μΌ**: λ§¤μΌ μƒλ΅μ΄ λ‹Ήλ² λ°°μ •
- **κ³µν‰μ„±**: μ§€μ°Έ νμκ°€ μ μ€ ν€μ› μ°μ„  μ„ νƒ

## π”§ μ„¤μ •

### API μ„¤μ • (app.js λ‚΄)
```javascript
const NAVERWORKS_API_URL_BASE = "https://naverworks.danal.co.kr/message/direct/alarm/users/";
const SENDER_ID = "alarm";
const RECIPIENT_DOMAIN = "@danal.co.kr";
```

### Cron μ¤μΌ€μ¤„ μμ‹
- `0 0 9 * * MON`: λ§¤μ£Ό μ›”μ”μΌ μ¤μ „ 9μ‹
- `0 30 8 * * 1-5`: ν‰μΌ μ¤μ „ 8μ‹ 30λ¶„
- `0 0 18 * * FRI`: λ§¤μ£Ό κΈμ”μΌ μ¤ν›„ 6μ‹

## π“ νμΌ κµ¬μ΅°

```
naverworks-message-cron-server/
β”β”€β”€ app.js              # λ©”μΈ μ„λ²„ νμΌ
β”β”€β”€ index.html          # μ›Ή μΈν„°νμ΄μ¤
β”β”€β”€ package.json        # ν”„λ΅μ νΈ μ„¤μ •
β”β”€β”€ config.json         # μ„¤μ • νμΌ (μλ™ μƒμ„±)
β”β”€β”€ .gitignore         # Git μ μ™Έ νμΌ λ©λ΅
β””β”€β”€ README.md          # ν”„λ΅μ νΈ μ„¤λ…μ„
```

## π API μ—”λ“ν¬μΈνΈ

- `GET /` - μ›Ή μΈν„°νμ΄μ¤
- `GET /config` - ν„μ¬ μ„¤μ • μ΅°ν
- `POST /update-schedules` - μ¤μΌ€μ¤„ μ„¤μ • μ—…λ°μ΄νΈ
- `POST /update-team-members` - ν€μ› μ •λ³΄ μ—…λ°μ΄νΈ

## π” λ³΄μ• μ£Όμμ‚¬ν•­

- `config.json` νμΌμ—λ” λ―Όκ°ν• μ •λ³΄κ°€ ν¬ν•¨λ  μ μμΌλ―€λ΅ Gitμ—μ„ μ μ™Έλ¨
- SSL μΈμ¦μ„ κ²€μ¦μ΄ λΉ„ν™μ„±ν™”λμ–΄ μμ (κ°λ°/ν…μ¤νΈ ν™κ²½μ©)
- μ‹¤μ΄μ ν™κ²½μ—μ„λ” μ μ ν• λ³΄μ• μ„¤μ • ν•„μ”

## π› λ¬Έμ  ν•΄κ²°

### μ„λ²„ μ‹μ‘ μ¤λ¥
```bash
# ν¬νΈκ°€ μ΄λ―Έ μ‚¬μ© μ¤‘μΈ κ²½μ°
netstat -ano | findstr :3000
```

### λ©”μ‹μ§€ μ „μ†΅ μ‹¤ν¨
- λ„¤μ΄λ²„μ›μ¤ API μ„¤μ • ν™•μΈ
- λ„¤νΈμ›ν¬ μ—°κ²° ν™•μΈ
- μμ‹ μ IDκ°€ μ¬λ°”λ¥Έμ§€ ν™•μΈ

## π“ λΌμ΄μ„Όμ¤

ISC
